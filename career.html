<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drive with Us | Careers at Shrish Travels</title>
    <meta name="description" content="Join Shrish Travels as a Driver Partner. We offer steady trips, on-time payments, and respect for our chauffeurs. Attach your taxi or drive our fleet.">
    
    <link rel="stylesheet" href="assets/css/common.css">
    <link rel="stylesheet" href="assets/css/career.css"> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
</head>
<body>

    <div id="header-placeholder"></div>

    <main class="overflow-wrapper">  
        <section class="career-hero">
            <div class="hero-overlay"></div>
            <div class="container hero-content">
                <span class="badge-pill">Hiring Now</span>
                <h1 data-aos="fade-up">Drive with Pride. Earn with Respect.</h1>
                <p data-aos="fade-up" data-aos-delay="100">Join Chennai's most professional travel network. Whether you have your own car or want to drive ours, we have a spot for you.</p>
                <a href="#apply-form" class="btn-hero">Apply Now <i class="fas fa-arrow-down"></i></a>
            </div>
        </section>

        <section class="section benefits-section">
            <div class="container">
                <div class="section-header text-center">
                    <h2>Why Partner with Shrish?</h2>
                    <p>We treat our chauffeurs as partners, not just drivers.</p>
                </div>
                
                <div class="benefits-grid">
                    <div class="benefit-card" data-aos="fade-up">
                        <div class="icon-box"><i class="fas fa-rupee-sign"></i></div>
                        <h3>Timely Payments</h3>
                        <p>No waiting for settlements. Get paid on time, every time.</p>
                    </div>
                    <div class="benefit-card" data-aos="fade-up" data-aos-delay="100">
                        <div class="icon-box"><i class="fas fa-calendar-check"></i></div>
                        <h3>Steady Corporate Duty</h3>
                        <p>Access to high-value corporate clients and long-term contracts.</p>
                    </div>
                    <div class="benefit-card" data-aos="fade-up" data-aos-delay="200">
                        <div class="icon-box"><i class="fas fa-user-shield"></i></div>
                        <h3>Respect & Safety</h3>
                        <p>We verify our guests too. Your safety and dignity are our priority.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="apply-form" class="section form-section bg-light">
            <div class="container">
                <div class="form-wrapper" data-aos="zoom-in">
                    <div class="form-text">
                        <h3>Start Your Journey</h3>
                        <p>Fill in the details below. Our fleet manager will call you within 24 hours.</p>
                        
                        <div class="contact-preview">
                            <p><i class="fas fa-phone-alt"></i> Help Line: +91 888 345 1668</p>
                        </div>
                    </div>

                    <form id="careerForm">
                        <div class="form-grid">
                            <div class="input-group full-width">
                                <label>I want to...</label>
                                <div class="radio-group">
                                    <label class="radio-btn">
                                        <input type="radio" name="type" value="Driver Job" checked onclick="toggleVehicleField(false)">
                                        <span>Drive Company Car (Job)</span>
                                    </label>
                                    <label class="radio-btn">
                                        <input type="radio" name="type" value="Attach Vehicle" onclick="toggleVehicleField(true)">
                                        <span>Attach My Own Car</span>
                                    </label>
                                </div>
                            </div>

                            <div class="input-group">
                                <label>Full Name</label>
                                <input type="text" name="name" required placeholder="Name as per License">
                            </div>

                            <div class="input-group">
                                <label>Phone Number</label>
                                <input type="tel" name="phone" required placeholder="10-digit Mobile">
                            </div>

                            <div class="input-group">
                                <label>City / Area</label>
                                <input type="text" name="city" required placeholder="e.g. Velachery">
                            </div>

                            <div class="input-group">
                                <label>Experience (Years)</label>
                                <input type="number" name="experience" required placeholder="e.g. 5">
                            </div>

                            <div class="input-group">
                                <label>License Type</label>
                                <select name="license">
                                    <option value="Yellow Board (Badge)">Yellow Board (Badge)</option>
                                    <option value="Private License">Private License</option>
                                    <option value="Heavy Vehicle">Heavy Vehicle</option>
                                </select>
                            </div>

                            <div class="input-group" id="vehicle-field" style="display:none;">
                                <label>Vehicle Details</label>
                                <input type="text" name="vehicle" placeholder="e.g. Innova Crysta 2022 White">
                            </div>
                        </div>

                        <button type="submit" class="submit-btn">Submit Application</button>
                        <p id="form-status" class="status-msg"></p>
                    </form>
                </div>
            </div>
        </section>

    </main>

    <div id="footer-placeholder"></div>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>AOS.init();</script>
    <script src="assets/js/api.js"></script>
    <link rel="preload" href="assets/js/common.js" as="script">

    
    <script>
        // Toggle Vehicle Input
        function toggleVehicleField(show) {
            const field = document.getElementById('vehicle-field');
            field.style.display = show ? 'block' : 'none';
            field.querySelector('input').required = show;
        }

        // Form Submission Logic
        // Form Submission Logic
        document.getElementById('careerForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const form = e.target;
            const btn = form.querySelector('button');
            const status = document.getElementById('form-status');
            const originalText = btn.innerText;

            btn.disabled = true;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Submitting...';
            status.innerText = "";

            const formData = new FormData(form);
            const data = Object.fromEntries(formData.entries());

            try {
                // USE THE NEW API SERVICE
                if (window.ApiService) {
                    await ApiService.submitCareer(data);
                } else {
                    throw new Error("API Service not loaded");
                }

                // Success
                btn.style.background = "#10B981";
                btn.innerHTML = '<i class="fas fa-check"></i> Application Sent!';
                status.style.color = "green";
                status.innerText = "Success! We will contact you shortly.";
                form.reset();

            } catch (err) {
                console.error(err);
                btn.style.background = "#ef4444";
                btn.innerText = "Submission Failed";
                status.style.color = "red";
                status.innerText = "Could not connect to server. Please check your internet or try again later.";
            } finally {
                setTimeout(() => {
                    btn.disabled = false;
                    btn.innerText = originalText;
                    btn.style.background = "";
                }, 3000);
            }
        });

        // Load Components
        document.addEventListener("DOMContentLoaded", () => {
            fetch('components/_header.html').then(r=>r.text()).then(h=>document.getElementById('header-placeholder').innerHTML=h);
            fetch('components/_footer.html').then(r=>r.text()).then(f=>document.getElementById('footer-placeholder').innerHTML=f);
        });
    </script>
</body>
</html>